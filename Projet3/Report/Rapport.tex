\documentclass[a4paper ,12pt,french]{article}
% Packages usuels
%\usepackage{etex} % pour circuitikz
%\usepackage{tikz}
%\usepackage{circuitikz} % pour les circuits électriques

\usepackage[utf8]{inputenc}
%\usepackage[margin=1.55cm]{geometry}
\usepackage[bottom=2cm , left=2.5cm ,right=2.5cm, top=2cm]{geometry}
\usepackage[T1]{fontenc}
\usepackage{url}
%\usepackage{color}
\usepackage{lmodern}
\usepackage[french]{babel}
\usepackage[indentfirst]{titlesec}
\usepackage[dvips]{graphicx}
\usepackage{eurosym}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{array}
\usepackage{colortbl}
\usepackage[table,dvipsnames,svgnames]{xcolor}
\usepackage{xspace}
\usepackage{fancybox}
\usepackage{textcomp}
\usepackage{listings}


\usepackage{hyperref}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{graphicx}

%\usepackage[margin=0.75in]{geometry}
\usepackage[version=3]{mhchem}
%\usepackage{chemist}
\usepackage{multicol}
\usepackage{float}
\usepackage{wrapfig} %écrire txt et image côte à côte
\usepackage[rightcaption]{sidecap}
\usepackage{amsthm}
\usepackage[squaren, Gray, cdot]{SIunits}
\usepackage[absolute]{textpos}%positionnement de cadres
\usepackage[final]{pdfpages} %traitement des pdf
\usepackage{subfigure}
%\usepackage[framed,numbered,autolinebreaks,useliterate]{mcode}%pour traiter le code matlab
%\usepackage{setspace}% pour les interlignes
%\onehalfspacing %interligne 1.5
%\doublespacing %interligne 2
%\renewcommand{\baselinestretch}{1.5}  %interligne défini
%\usepackage{vmargin}% pour les marges
%\setmarginsrb{2.5}{2.5}{2.5}{2.5}{}{}{}{} % marges de 2.5 cm 
%\addto\captionsfrench{\def\tablename{Tableau}} % pour avoir TABLEAU et pas TABLE dans la légende des tableaux..
%\setlength{\parskip}{1cm}   %espacement fixe entre chaque paragraphe
\setlength{\parindent}{1cm}  %modifie la valeur de l'alinéas
%\addtolength{\voffset}{-1.5cm} % (diminue la marge du haut)
\addtolength{\textheight}{-2cm} % (augmente la longueur du texte)
%\addtolength{\hoffset}{-1cm} (diminue la marge de gauche)
%\addtolength{\textwidth}{2cm}  (augmente la largeur du texte)
%\addtocounter{secnumdepth}{1}  si jamais on veut utiliser \subsubsubsecion
\usepackage[hang,center,bf]{caption} %pour les légendes
\setlength{\captionmargin}{30pt}
\usepackage[hang,flushmargin]{footmisc} %à mettre avec ENGLISH dans babel pour avoir les notes de bas de page à gauche et non indentées
\usepackage[nonumberlist,style=altlist,toc]{glossaries} % Pour faire un glossaire
\makeglossaries
%\addto\captionsfrench{\renewcommand*{\glossaryname}{Glossary}}
\usepackage{wasysym}
\usepackage[square, numbers, comma, sort&compress]{natbib} % Use the natbib reference package - read up on this to edit the reference style; if you want text (e.g. Smith et al., 2012) for the in-text references (instead of numbers), remove 'numbers' 
%\hypersetup{urlcolor=blue, colorlinks=true} % Colors hyperlinks in blue - change to black if annoying
\title{Project 2 - Constraint Programming } % Defines the thesis title - don't touch this
%-------------------------------------------------------------------------------------------------------------------------------------------------------------




\begin{document}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{ %
  language=c,                				% the language of the code
  basicstyle=\footnotesize,           	% the size of the fonts that are used for the code
  numbers=left,                   			% where to put the line-numbers
  numberstyle=\tiny\color{gray},  	% the style that is used for the line-numbers
  stepnumber=1,                   			% the step between two line-numbers. If it's 1, each line 
                                  						% will be numbered
  numbersep=5pt,                  			% how far the line-numbers are from the code
  backgroundcolor=\color{white},   % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=4,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                   % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  keywordstyle=\color{blue},          % keyword style
  commentstyle=\color{dkgreen},       % comment style
  stringstyle=\color{mauve},         % string literal style
  escapeinside={\%*}{*)},            % if you want to add LaTeX within your code
  morekeywords={*,...}               % if you want to add more keywords to the set
}

\floatstyle{plain}
%\newfloat{graphique}{!hb}{lgr}[chapter]
\floatname{graphique}{Graph}

%\setstretch{1.1} % Line spacing of 1.3

% Define the page headers using the FancyHdr package and set up for one-sided printing
\fancyhead{} % Clears all page headers and footers
\rhead{\thepage} % Sets the right side header to show the page number
\lhead{} % Clears the left side page header

\pagestyle{fancy} % Finally, use the "fancy" page style to implement the FancyHdr headers

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % New command to make the lines in the title page

\begin{titlepage}
\pagestyle{fancy} % Finally, use the "fancy" page style to implement the FancyHdr headers

\begin{tabular}{cc}
\begin{minipage}{0.5\textwidth}
\begin{flushleft}
\includegraphics[scale=0.1]{./logoingisbleu.jpg} % University/department logo - uncomment to place it
\end{flushleft}
\end{minipage}
 & 
 \begin{minipage}{0.43\textwidth}
\begin{flushright}
\includegraphics[scale=0.5]{./epl.jpg} % University/department logo - uncomment to place it
\end{flushright}
\end{minipage}
\end{tabular} 



\begin{center}
\vspace{100 px}
\textsc{\LARGE Catholic University of Louvain}\\[1cm] % University name
\textsc{\Large Project 3 : Search}\\[0.5cm] % Thesis type
 
\HRule \\[0.4cm] % Horizontal line
{\huge \bfseries LINGI2365 - Constraint Programming}\\[0.4cm] % Thesis title
\HRule \\[1.5cm] % Horizontal line
 

\begin{tabular}{cc}
\begin{minipage}{0.5\textwidth}
\begin{flushleft} \large
\emph{Auteurs:}\\
{Vanwelde Romain (3143-10-00)\\
Crochelet Martin (2236-10-00)\\ \ \\
Groupe 7} 
\end{flushleft}
\end{minipage} & \begin{minipage}{0.46\textwidth}
\centering
\begin{flushright} \large
\emph{Superviseurs:} \\
{Pr. Yves Deville\\
François Aubry
}
\end{flushright}
\end{minipage}\\[3cm] \\ 
\end{tabular} 

 
%\large \textit{A thesis submitted in fulfilment of the requirements\\ for the degree of \degreename}\\[0.3cm] % University requirement text
%\textit{in the}\\[0.4cm]
%\groupname\\\deptname\\[2cm] % Research group name and department name

 \begin{center}
{\large \today }\\[4cm] % Date 
 \end{center}


\vfill
\end{center}

\end{titlepage}

\lhead{\emph{Table of Contents}} % Set the left side page header to "Contents"
\tableofcontents % Write out the Table of Contents

\thispagestyle{fancy}

\pagebreak
\setcounter{page}{1}
\pagestyle{fancy} % Finally, use the "fancy" page style to implement the FancyHdr headers

\section{The Brussels airport problem}

\subsection{Explain the given model}
There are 5 data variables :\\
\textbf{n}, the number of plane.\\
\textbf{idealTime}, the prefered landing time for each plane.\\
\textbf{penality}, the penalty by unit time from the preffered landing time.\\
\textbf{block}, the time the plane blocks the lane.\\
\textbf{maxDelay}, maximum difference of time between landing and preferred landing time.\\

Then, we have two decision variables:\\
\textbf{delay}, the delay of each plane.\\
\textbf{land}, the landing time of each plane.\\

Lastly, we use the constraint optimisation problem structure to solve our problem with an objective function which is the sum of all penalties of each planes, the constraints, and the heuristics.
It's obvious that we want to minimize the accumulated penalties.

\subsection{Design 2 different variable and/or value ordering heuristics for this problem.}
\lstinputlisting[language=C]{airport.co}
\subsection{Which criteria are meaningful for comparing different search strategies?}
We want our heuristic to minimize the number of next choices (we want good pruning), but what we basically want is a resolution as fast as possible.

\subsection{Based on your criteria, compare your heuristics with the labelFF heuristic by testing them on the instance on iCampus.}
\begin{figure}[!h]
\begin{tabular}{|c|c|c|c|c|}
\hline
&Strategy 1&Strategy 1&Strategy 1&labelFF\\
\hline
Time&75&34&37&OUT OF TIME\\
\hline
\end{tabular}
\caption{Time taken for different strategies}
\label{Airport}
\end{figure}
Based on the execution time, we will choose the 2nd strategy which is the best. LabelFF ran out of time because it implement the First Fail strategy, without any "ordering" on the values in the domain. Since the amount of variables and values inside their domains is quite enormous, it will take a lot of time to complete.

\subsection{Consider the following strategy. \dots Give an example with three planes where this strategy is wrong}
Instinctively, it is easy to consider the fact that this strategy is attracted by local optima. Indeed, this strategy does not present any mechanism of diversification hence "forces" the solver to choose the first solution to the CSP. 
With the following set: 
\begin{center}


\begin{tabular}{|c|c|c|c|}
\hline 
&Preferred time & block & penalty \\ 
\hline 
Plane 1&4 & 2 & 100\\
\hline 
Plane 2&7 & 2 & 50\\
\hline 
Plane 3&5 & 2 & 1\\
\hline 
\end{tabular} 
\end{center}

With a delay of 0, there are no solutions. With a delay of 1, we find 2  solutions but the optimal one is with the plane 1 with time slot 4-5,  plane 3 with time slots 6-7 and plane 2 with time slots 8-9. The total penalty is 50. With a delay of 2, the optimal solution will be the same. The search would end here.\\
But this is not the optimal solution for the problem. With delay bigger allowed, we will find as optimal solution time slots 4-5 for plane 1, 7-8 for the second and 2-3 for the third, which equals to a total penalty of 3 which is really lower than the one found before.
\section{The Knapsack Problem}

\subsection{A Branch \& Bound approach}

\subsubsection{Model the knapsack problem as Constraint Optimization}
\lstinputlisting[language=C]{knapsack.co}

\subsubsection{Describe your model in the report.}

We use 4 data variables: 
\begin{itemize}
\item \textbf{no}, the number of objects
\item \textbf{weight}, an array with the weight of each object
\item \textbf{usefulness}, an array with the usefulness of each object
\item \textbf{C}, the capacity of the knapsack\\
\end{itemize}

and 2 model variables:
\begin{itemize}
\item \textbf{bin}, with a domain wich is [0,1]. When an object has the value 0, it is not in the knapsack, and when it has value 1, it is in the knapsack.
\item \textbf{load} is the weight of all the objects wich are curently in the knapsack.\\
\end{itemize}

Then we use the structure to solve constraint optimisation problems :
\begin{verbatim}
maximize<cp>
    objective_function
subject to {
    constraints
} using {
    search_heuristic
}
\end{verbatim}

The objective function (that we maximize) is the total of the actual usefulness of the knapsack.\\
The constraints prevent to fill the knapsack with more weight than allowed.\\
Search\_heuristic are discussed in the following section.



\subsubsection{Design 3 different heuristics for variable selection.}
\textbf{The first heuristic} assigns variables which have the smallest weight first. Indeed, we could probably put more object in the knapsack, and fill it better with this strategy.\\

\textbf{The second heuristic} assigns variables which have the biggest utility first. Since the utility of those objects is bigger, they will probably be in the final solution.\\

\textbf{The third heuristic} tries to combine the 2 presented here above. It assigns objects with the higher value for ratio usefulness/weight. Object with higher ratio will also tend to be in the final solution.\\

\subsubsection{Test your heuristics and the labelFF heuristic on the knapsack-A instances.}

\begin{figure}[!h]
\begin{tabular}{|r||r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|}
\hline
time&A1&A2&A3&A4&A5&A6&A7&A8&A9&A10\\
\hline
\hline
Heuristic 1&76&37&21&50&73&95&219&318&1098&2189\\
\hline
Heuristic 2&15&10&9&14&20&27&63&124&213&349\\
\hline
Heuristic 3&29&21&22&28&34&63&145&166&899&1476\\
\hline
labelFF&17&15&10&18&26&45&98&113&672&1034\\
\hline
\end{tabular}\\
\caption{Search time depending on instances and heuristics}
\end{figure}


\begin{figure}[!h]
\begin{tabular}{|r||r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|}
\hline
\#choices&A1&A2&A3&A4&A5&A6&A7&A8&A9&A10\\
\hline
\hline
Heuristic 1&2151&1068&609&1488&2058&2668&6177&10206&36020&73265\\
\hline
Heuristic 2&489&343&329&569&697&891&2309&3986&8218&12734\\
\hline
Heuristic 3&1219&678&736&858&1016&2103&4877&5850&29973&49940\\
\hline
labelFF&538&468&339&617&860&1590&3756&4431&26737&41081\\
\hline

\end{tabular}\\
\caption{Number of choices depending on instances and heuristics}
\end{figure}

\begin{figure}[!h]
\begin{tabular}{|r||r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|}
\hline
\#fail&A1&A2&A3&A4&A5&A6&A7&A8&A9&A10\\
\hline
\hline
Heuristic 1&4266&2098&1140&2940&3975&5298&12193&20306&71907&146472\\
\hline
Heuristic 2&796&507&473&790&1186&1451&3792&7176&13027&21112\\
\hline
Heuristic 3&1731&1120&1045&1454&1852&3667&8608&10247&55578&90988\\
\hline
labelFF&722&574&437&847&1149&1966&4781&5723&33206&54804\\
\hline
\end{tabular}\\
\caption{Number of failures depending on instances and heuristics}
\end{figure}


\begin{figure}[!h]
\begin{tabular}{|r||r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|r|}
\hline
\#propag:&A1&A2&A3&A4&A5&A6&A7&A8&A9&A10\\
\hline
\hline
Heuristic 1&25586&12644&7115&16302&25829&36401&81296&129069&427978&819394\\
\hline
Heuristic 2&3634&2197&1840&2451&4878&6845&15387&34646&50685&91129\\
\hline
Heuristic 3&6250&5299&3798&6189&8609&17699&41002&48293&280535&391867\\
\hline
labelFF&6306&5371&3867&6210&8680&17772&41030&48393&280603&391948\\
\hline
\end{tabular}
\caption{Number of propagation depending on instances and heuristics}
\end{figure}


Results here above only show the results for the 10 first files. The other results are available in the directory \texttt{Tests\_Q\_2\_3\_1}.

\subsubsection{Present and discuss the results in your report}

We can observe on results here above that the second heuristic is always better while looking at time values (behave on file A7, but difference is minor), which is the most important criterium.\\

Looking at the table with number of choices, we can observe, once again, that the second heuristic is better since it has less different choices (It shows a better pruning).\\

Looking at table with number of failures, we can observe that the second heuristic is better since it has a low number of failures. It converges more quickly on good values.\\

Finally, we can observe that with heuristic 2, we have less propagation than with other heuristics.\\

In fact, those four tables are linked. Since this heuristic has better pruning (low \# of choices), it will converges faster (low \# of fails), which implies less propagation and faster times.\\

Considering all those results, the search strategy we will use for the remainder of this assignment is the second one.

\subsection{Optimization over iterations}

\subsubsection{Model the knapsack problem as a Constraint Satisfaction Problem.}

\lstinputlisting[language=C]{knapsackUB.co}

\subsubsection{In order to implement the optimization over iterations \dots}

We added Integer ub which will be the upper bound, and is assigned thanks to the \texttt{getUB} function. We added a decision variable totalUsefulness which will be forced to take the value of the upper bound. Suceed event that will finish the search, and failure events that will reduce the upper bound from 1 and restart the search.

\subsubsection{Which of these points (i., ii., iii.) do you need to execute on which events?}
In case of success, we succeed in finding the best value for the totalUseffulness (since it can't be bigger than the upper bound). So we end the search (iii). Otherwise, in case of failure, we modify ub value (we decrease by 1), and we restart the search (i and ii).
We will continue like that until the upper bound will be the optimal solution, and then will succeed and end the search.


\subsubsection{How do you modify the value of ub to be sure to find the optimal solution?}

Since we only use integer, we can decrease ub by 1 at each failure.

\subsubsection{Can you explain why we initialize ub with an upper bound instead of any other value?}

If ub is not an upper bound, it means that the search could end with an non optimal value.

\subsubsection{Experiment this program on the instances knapsack-A, -B. }




\begin{figure}[!ht]
\begin{tabular}{|c|c|c|c|c|c|c|}     \hline
File & ub & totalUsefulness & time & \# choices & \# fail & \# propag \\ \hline 
A1&21&21&5&25&0&30   \\ \hline
A2&21&21&5&25&0&30   \\ \hline
A3&19&21&5&25&0&28   \\ \hline
A4&21&21&5&25&0&30   \\ \hline
A5&25&26&5&25&0&30   \\ \hline
A6&32&34&6&25&0&30   \\ \hline
A7&43&43&5&25&2&38   \\ \hline
A8&40&44&7&25&3&41   \\ \hline
A9&45&45&5&25&0&32   \\ \hline
A10&47&47&8&25&0&32  \\ \hline
A11&49&50&5&25&0&32  \\ \hline
A12&65&65&5&25&0&34  \\ \hline
A13&68&69&5&25&0&34  \\ \hline
A14&73&73&5&25&0&36  \\ \hline
A15&69&70&6&25&0&34  \\ \hline
A16&77&78&6&25&1&39  \\ \hline
A17&89&89&6&25&0&36  \\ \hline
A18&86&86&5&25&0&36  \\ \hline
A19&105&106&7&25&0&38\\ \hline
A20&109&110&5&25&0&38\\ \hline
A21&117&117&7&25&0&40\\ \hline
A22&104&104&5&25&0&38\\ \hline
A23&97&98&5&25&0&38  \\ \hline
A24&130&131&5&25&0&42\\ \hline
A25&103&103&6&25&0&40\\ \hline
\end{tabular}
\caption{Knapsack results with upper bound}
\label{FIGA}
\end{figure}


\begin{figure}[!ht]
\begin{tabular}{|c|c|c|c|c|c|c|} \hline
File & ub & totalUsefulness & time & \# choices & \# fail & \# propag\\ \hline
B1&544&921&1112&73715&4208&407136         \\ \hline
B2&594&929&108&8546&1876&32075            \\ \hline
B3&819&908&617&46118&1412&204306          \\ \hline
B4&673&933&171&12373&976&56971            \\ \hline
B5&670&862&124&9136&1013&41892            \\ \hline
B6&695&809&396&28125&1029&146337          \\ \hline
B7&742&810&170&13926&475&57613            \\ \hline
B8&549&841&298&21285&965&102120           \\ \hline
B9&663&806&161&12400&438&57102            \\ \hline
B10&634&918&2244&144921&6126&832368       \\ \hline
B11&642&855&1208&80406&2223&451408        \\ \hline
B12&621&801&355&26862&1093&123243         \\ \hline
B13&716&879&18&1089&540&4233              \\ \hline
B14&644&822&184&14599&872&54322           \\ \hline
B15&674&817&500&31753&2171&175186         \\ \hline
B16&686&783&197&15538&1331&69005          \\ \hline
B17&594&851&790&57157&2065&264039         \\ \hline
B18&750&825&323&27840&262&109188          \\ \hline
B19&650&822&354&28969&1396&115793         \\ \hline
B20&730&901&60&3998&1222&20041            \\ \hline
B21&596&806&170&12070&217&68842           \\ \hline
B22&760&855&349&24653&671&129623          \\ \hline
B23&674&773&265&23505&515&91134           \\ \hline
B24&639&794&77&6389&515&26978             \\ \hline
B25&734&785&176&14402&240&59226           \\ \hline
\end{tabular}
\caption{Knapsack results with upper bound}
\label{FIGB}
\end{figure}

See Figures \ref{FIGA}, \ref{FIGB}.
\subsubsection{Present and discuss the results in your report.}

We can see that when the totalUsefulness is near the initial upper bound, the optimal solution is found quite directly. (A files)
But when it is far from the upper bound, it can take a lot of time. More the solution is far, more time it will take.

\newpage
\
\newpage

\subsection{Optimization via divide and conquer}

\subsubsection{In order to implement the optimization via divide and conquer you will have to \dots}
\lstinputlisting[language=C]{knapsackUB_LB.co}
\subsubsection{Which of these points (i., ii., iii., iv.) do you need to execute on which events?}
Note : Since the search runs on domain $[ceil(\frac{lb + ub}{2}),ub]$, we are sure that if there is a solution , this is not the lb. So, if lb=34 and ub=35, ceil function will makes the search on the domain [35,35] and not [34,35] if we had used the floor function, wich would have made the rest of the program more complicated.\\\\

In case of success, we have to update the lower bound to the solution we found during the new search which will be the new lower bound (since there were a solution with this bound) (i). If this new lower bound is equal to the upper bound, we have find the optimal value, and we can end the search (iv), otherwise, we have to continue the search (iii).\\

In case of failure, we have no solutions in the interval $[ceil(\frac{lb + ub}{2}),ub]$, thus we can change the upper bound to $ceil(\frac{lb + ub}{2})-1$ (ii), and restart the search (iii).\\


 \subsubsection{Experiment this version on the instances knapsack-A,-B,-C}

\begin{figure}[!h]
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
file&lb&ub&totalUsefulness&\# search&time\\
\hline
\hline
A1&21&21&21&1&11\\\hline
A2&21&21&21&1&10\\\hline
A3&19&21&21&1&11\\\hline
A4&21&21&21&1&10\\\hline
A5&25&26&26&1&10\\\hline
A6&32&34&34&1&10\\\hline
A7&43&43&43&1&10\\\hline
A8&40&44&44&2&10\\\hline
A9&45&45&45&1&10\\\hline
A10&47&47&47&1&9\\\hline
A11&49&50&50&1&9\\\hline
A12&65&65&65&1&10\\\hline
A13&68&69&69&1&10\\\hline
A14&73&73&73&1&10\\\hline
A15&69&70&70&1&10\\\hline
A16&77&78&78&1&10\\\hline
A17&89&89&89&1&9\\\hline
A18&86&86&86&1&10\\\hline
A19&105&106&106&1&10\\\hline
A20&109&110&110&1&10\\\hline
A21&117&117&117&1&10\\\hline
A22&104&104&104&1&10\\\hline
A23&97&98&98&1&10\\\hline
A24&130&131&131&1&10\\\hline
A25&103&103&103&1&10\\\hline

\end{tabular}
\caption{Knapsack results with lower and upper bound}
\label{LUA}
\end{figure}


\begin{figure}[!h]
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
file&lb&ub&totalUsefulness&\# search&time\\
\hline
\hline

B1&544&934&921&8&711\\\hline
B2&594&934&929&6&150\\\hline
B3&819&947&908&4&110\\\hline
B4&673&943&933&7&150\\\hline
B5&670&872&862&7&128\\\hline
B6&695&835&809&6&146\\\hline
B7&742&826&810&7&93\\\hline
B8&549&859&841&8&173\\\hline
B9&663&836&806&7&65\\\hline
B10&634&951&918&9&934\\\hline
B11&642&891&855&8&407\\\hline
B12&621&817&801&7&203\\\hline
B13&716&880&879&4&50\\\hline
B14&644&836&822&6&118\\\hline
B15&674&826&817&7&410\\\hline
B16&686&796&783&7&171\\\hline
B17&594&878&851&7&266\\\hline
B18&750&858&825&7&113\\\hline
B19&650&843&822&6&133\\\hline
B20&730&904&901&6&146\\\hline
B21&596&836&806&8&60\\\hline
B22&760&883&855&5&94\\\hline
B23&674&794&773&7&134\\\hline
B24&639&802&794&6&89\\\hline
B25&734&805&785&6&81\\\hline


\end{tabular}
\caption{Knapsack results with lower and upper bound}
\label{LUB}
\end{figure}


\begin{figure}[!h]
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
file&lb&ub&totalUsefulness&\# search&time\\
\hline
\hline

C1&79&103&101&5&1477\\\hline
C2&78&99&98&6&621\\\hline
C3&77&94&94&3&130\\\hline
C4&82&110&108&5&279\\\hline
C5&86&108&106&4&316\\\hline
C6&75&97&96&5&168\\\hline
C7&71&113&112&6&1473\\\hline
C8&109&128&126&4&316\\\hline
C9&82&116&112&4&158\\\hline
C10&90&105&102&5&688\\\hline
C11&88&125&125&2&267\\\hline
C12&81&115&112&4&602\\\hline
C13&94&115&114&6&777\\\hline
C14&81&115&113&5&862\\\hline
C15&94&120&118&4&479\\\hline
C16&79&116&114&5&704\\\hline
C17&63&98&94&6&462\\\hline
C18&88&111&109&5&395\\\hline
C19&59&99&97&5&279\\\hline
C20&74&117&115&5&733\\\hline
C21&89&110&109&5&607\\\hline
C22&70&108&108&4&284\\\hline
C23&83&115&114&6&612\\\hline
C24&100&109&107&4&120\\\hline
C25&86&116&114&5&466\\\hline

\end{tabular}
\caption{Knapsack results with lower and upper bound}
\label{LUC}
\end{figure}


See Figures \ref{LUA}, \ref{LUB}, \ref{LUC}.

\subsubsection{Present and discuss the results in your report.}

We can see that the time needed to find the optimal solution on the A files stays really low. Sometimes, we have a search that restarts, but it's rare.
The time spend on B files is really lower than with the previous strategy. And number of search restart is also really lower (since for previous strategy, it was equal to the difference between the totalUsefulness and the initial ub).
Using upper bound and lower bound reduces amazingly the time needed to find the optimal solution.

\end{document}